<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BarberPro - Cadastro de Cliente</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-2xl mx-auto">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800">BarberPro</h1>
                <p class="text-gray-600 mt-2">Cadastro de Cliente</p>
            </div>
            
            <!-- Formulário de Cadastro -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <form id="cadastro-cliente-form">
                    <!-- Progresso do cadastro -->
                    <div class="mb-8">
                        <div class="flex justify-between mb-2">
                            <span class="text-sm font-medium text-blue-600">Etapa 1 de 2</span>
                            <span class="text-sm text-gray-500">Dados Pessoais</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div class="bg-blue-600 h-2.5 rounded-full" style="width: 50%"></div>
                        </div>
                    </div>
                    
                    <!-- Etapa 1: Dados Pessoais -->
                    <div id="etapa-1" class="block">
                        <h2 class="text-xl font-semibold mb-4">Dados Pessoais</h2>
                        
                        <div class="mb-6">
                            <div class="flex justify-center mb-4">
                                <div class="relative">
                                    <div class="w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden">
                                        <img id="preview-foto" src="" alt="" class="w-full h-full object-cover hidden">
                                        <i id="icon-foto" class="fas fa-user text-gray-400 text-4xl"></i>
                                    </div>
                                    <label for="foto" class="absolute bottom-0 right-0 bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center cursor-pointer">
                                        <i class="fas fa-camera"></i>
                                    </label>
                                    <input type="file" id="foto" class="hidden" accept="image/*">
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label for="nome" class="block text-sm font-medium text-gray-700 mb-1">Nome Completo*</label>
                                <input type="text" id="nome" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label for="telefone" class="block text-sm font-medium text-gray-700 mb-1">Telefone/WhatsApp*</label>
                                <input type="tel" id="telefone" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email*</label>
                                <input type="email" id="email" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label for="senha" class="block text-sm font-medium text-gray-700 mb-1">Senha*</label>
                                <input type="password" id="senha" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Preferências de Atendimento</label>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="flex items-center">
                                    <input type="radio" name="tipo-atendimento" id="atend-barbearia" class="mr-2" checked>
                                    <label for="atend-barbearia">Prefiro ir à barbearia</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="tipo-atendimento" id="atend-domicilio" class="mr-2">
                                    <label for="atend-domicilio">Prefiro atendimento em casa</label>
                                </div>
                            </div>
                        </div>
                        
                        <div id="endereco-cliente" class="mb-6 hidden">
                            <h3 class="text-md font-medium mb-2">Endereço para Atendimento</h3>
                            <div class="mb-4">
    <label for="cep" class="block text-sm font-medium text-gray-700 mb-1">CEP*</label>
    <input type="text" id="cep" maxlength="9" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" required>
</div>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                <div class="md:col-span-2">
                                    <label for="rua" class="block text-sm font-medium text-gray-700 mb-1">Rua*</label>
                                    <input type="text" id="rua" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="numero" class="block text-sm font-medium text-gray-700 mb-1">Número*</label>
                                    <input type="text" id="numero" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label for="complemento" class="block text-sm font-medium text-gray-700 mb-1">Complemento</label>
                                <input type="text" id="complemento" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label for="bairro" class="block text-sm font-medium text-gray-700 mb-1">Bairro*</label>
                                    <input type="text" id="bairro" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="cidade" class="block text-sm font-medium text-gray-700 mb-1">Cidade*</label>
                                    <input type="text" id="cidade" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label for="estado" class="block text-sm font-medium text-gray-700 mb-1">Estado*</label>
                                    <select id="estado" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        <option value="">Selecione</option>
                                        <option value="AC">AC</option>
                                        <option value="AL">AL</option>
                                        <option value="AP">AP</option>
                                        <option value="AM">AM</option>
                                        <option value="BA">BA</option>
                                        <option value="CE">CE</option>
                                        <option value="DF">DF</option>
                                        <option value="ES">ES</option>
                                        <option value="GO">GO</option>
                                        <option value="MA">MA</option>
                                        <option value="MT">MT</option>
                                        <option value="MS">MS</option>
                                        <option value="MG">MG</option>
                                        <option value="PA">PA</option>
                                        <option value="PB">PB</option>
                                        <option value="PR">PR</option>
                                        <option value="PE">PE</option>
                                        <option value="PI">PI</option>
                                        <option value="RJ">RJ</option>
                                        <option value="RN">RN</option>
                                        <option value="RS">RS</option>
                                        <option value="RO">RO</option>
                                        <option value="RR">RR</option>
                                        <option value="SC">SC</option>
                                        <option value="SP">SP</option>
                                        <option value="SE">SE</option>
                                        <option value="TO">TO</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-end">
                            <button type="button" id="btn-etapa-1" class="bg-blue-600 text-white py-2 px-6 rounded-md hover:bg-blue-700 transition duration-300">
                                Próximo
                            </button>
                        </div>
                    </div>
                    
                    <!-- Etapa 2: Preferências -->
                    <div id="etapa-2" class="hidden">
                        <h2 class="text-xl font-semibold mb-4">Preferências</h2>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Serviços de Interesse</label>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="flex items-center">
                                    <input type="checkbox" id="serv-corte" class="mr-2" checked>
                                    <label for="serv-corte">Corte Masculino</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="serv-barba" class="mr-2" checked>
                                    <label for="serv-barba">Barba</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="serv-degrade" class="mr-2">
                                    <label for="serv-degrade">Degradê</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="serv-sobrancelha" class="mr-2">
                                    <label for="serv-sobrancelha">Sobrancelha</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="serv-coloracao" class="mr-2">
                                    <label for="serv-coloracao">Coloração</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="serv-outros" class="mr-2">
                                    <label for="serv-outros">Outros</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Forma de Pagamento Preferida</label>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="flex items-center">
                                    <input type="radio" name="pagamento-pref" id="pag-dinheiro" class="mr-2" checked>
                                    <label for="pag-dinheiro">Dinheiro</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="pagamento-pref" id="pag-pix" class="mr-2">
                                    <label for="pag-pix">PIX</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="pagamento-pref" id="pag-credito" class="mr-2">
                                    <label for="pag-credito">Cartão de Crédito</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="pagamento-pref" id="pag-debito" class="mr-2">
                                    <label for="pag-debito">Cartão de Débito</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Momento do Pagamento Preferido</label>
                            <div class="grid grid-cols-1 gap-2">
                                <div class="flex items-center">
                                    <input type="radio" name="momento-pref" id="momento-antecipado-50" class="mr-2">
                                    <label for="momento-antecipado-50">Prefiro pagar 50% antecipado</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="momento-pref" id="momento-antecipado-100" class="mr-2">
                                    <label for="momento-antecipado-100">Prefiro pagar 100% antecipado</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="momento-pref" id="momento-atendimento" class="mr-2" checked>
                                    <label for="momento-atendimento">Prefiro pagar no momento do atendimento</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Notificações</label>
                            <div class="space-y-2">
                                <div class="flex items-center">
                                    <input type="checkbox" id="notif-email" class="mr-2" checked>
                                    <label for="notif-email">Receber notificações por email</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="notif-sms" class="mr-2" checked>
                                    <label for="notif-sms">Receber notificações por SMS</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="notif-lembretes" class="mr-2" checked>
                                    <label for="notif-lembretes">Receber lembretes de agendamentos</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="notif-promocoes" class="mr-2">
                                    <label for="notif-promocoes">Receber promoções e novidades</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-between">
                            <button type="button" id="btn-voltar-1" class="bg-gray-200 text-gray-700 py-2 px-6 rounded-md hover:bg-gray-300 transition duration-300">
                                Voltar
                            </button>
                            <button type="submit" class="bg-green-600 text-white py-2 px-6 rounded-md hover:bg-green-700 transition duration-300">
                                Concluir Cadastro
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            
            <!-- Informações adicionais -->
            <div class="mt-8 text-center">
                <p class="text-sm text-gray-600">
                    Já tem uma conta? <a href="login.html" class="text-blue-600 hover:underline">Faça login</a>
                </p>
                <p class="text-sm text-gray-600 mt-2">
                    &copy; 2025 BarberPro - Todos os direitos reservados
                </p>
            </div>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script>
// ...código existente...

// Defina todas as variáveis de elementos no topo do script
const etapa1 = document.getElementById('etapa-1');
const etapa2 = document.getElementById('etapa-2');
const btnEtapa1 = document.getElementById('btn-etapa-1');
const btnVoltar1 = document.getElementById('btn-voltar-1');
const atendBarbearia = document.getElementById('atend-barbearia');
const atendDomicilio = document.getElementById('atend-domicilio');
const enderecoCliente = document.getElementById('endereco-cliente');
const cepInput = document.getElementById('cep');
const ruaInput = document.getElementById('rua');
const bairroInput = document.getElementById('bairro');
const cidadeInput = document.getElementById('cidade');
const estadoInput = document.getElementById('estado');

// Navegação entre etapas
btnEtapa1.addEventListener('click', function() {
    etapa1.classList.add('hidden');
    etapa2.classList.remove('hidden');
    document.querySelector('.bg-blue-600').style.width = '100%';
    document.querySelector('.text-sm.font-medium.text-blue-600').textContent = 'Etapa 2 de 2';
    document.querySelector('.text-sm.text-gray-500').textContent = 'Preferências';
});

btnVoltar1.addEventListener('click', function() {
    etapa2.classList.add('hidden');
    etapa1.classList.remove('hidden');
    document.querySelector('.bg-blue-600').style.width = '50%';
    document.querySelector('.text-sm.font-medium.text-blue-600').textContent = 'Etapa 1 de 2';
    document.querySelector('.text-sm.text-gray-500').textContent = 'Dados Pessoais';
});

// Mostrar/esconder campos de endereço
atendBarbearia.addEventListener('change', function() {
    if (this.checked) {
        enderecoCliente.classList.add('hidden');
    }
});
atendDomicilio.addEventListener('change', function() {
    if (this.checked) {
        enderecoCliente.classList.remove('hidden');
    }
});

// CEP automático
cepInput.addEventListener('blur', function() {
    const cep = cepInput.value.replace(/\D/g, '');
    if (cep.length === 8) {
        fetch(`https://viacep.com.br/ws/${cep}/json/`)
            .then(response => response.json())
            .then(data => {
                if (!data.erro) {
                    ruaInput.value = data.logradouro || '';
                    bairroInput.value = data.bairro || '';
                    cidadeInput.value = data.localidade || '';
                    estadoInput.value = data.uf || '';
                } else {
                    alert('CEP não encontrado.');
                }
            })
            .catch(() => {
                alert('Erro ao buscar o CEP.');
            });
    }
});

// Cadastro
document.getElementById('cadastro-cliente-form').addEventListener('submit', function(e) {
    e.preventDefault();

const usuario = {
    id: Date.now(), // ou outro identificador único
    nome: document.getElementById('nome').value,
    email: document.getElementById('email').value,
    senha: document.getElementById('senha').value,
    telefone: document.getElementById('telefone').value,
    tipo: 'cliente',
    atendimento: atendBarbearia.checked ? 'barbearia' : 'domicilio',
    endereco: {
        cep: cepInput.value,
        rua: ruaInput.value,
        numero: document.getElementById('numero').value,
        complemento: document.getElementById('complemento').value,
        bairro: bairroInput.value,
        cidade: cidadeInput.value,
        estado: estadoInput.value
    },
    servicos: [
        document.getElementById('serv-corte').checked ? 'Corte Masculino' : null,
        document.getElementById('serv-barba').checked ? 'Barba' : null,
        document.getElementById('serv-degrade').checked ? 'Degradê' : null,
        document.getElementById('serv-sobrancelha').checked ? 'Sobrancelha' : null,
        document.getElementById('serv-coloracao').checked ? 'Coloração' : null,
        document.getElementById('serv-outros').checked ? 'Outros' : null
    ].filter(Boolean),
    pagamento: document.getElementById('pag-dinheiro').checked ? 'Dinheiro' :
               document.getElementById('pag-pix').checked ? 'PIX' :
               document.getElementById('pag-credito').checked ? 'Crédito' : 'Débito',
    momentoPagamento: document.getElementById('momento-antecipado-50').checked ? '50% antecipado' :
                      document.getElementById('momento-antecipado-100').checked ? '100% antecipado' : 'No atendimento',
    notificacoes: {
        email: document.getElementById('notif-email').checked,
        sms: document.getElementById('notif-sms').checked,
        lembretes: document.getElementById('notif-lembretes').checked,
        promocoes: document.getElementById('notif-promocoes').checked
    }
};

localStorage.setItem('barberpro_user', JSON.stringify(usuario));
window.location.href = 'cliente-dashboard.html';
});
             </script>
</body>
</html>
